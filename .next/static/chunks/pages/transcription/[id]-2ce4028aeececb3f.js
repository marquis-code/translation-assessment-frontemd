(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{508:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(2587);var o=r(2937);function a(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=r(29),i=r(6835),c=r(7794),l=r.n(c),u=r(7294),d=r(1163),x=r(1955),m=r(5893),h=r(3454),f=h.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",p=h.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8000";function g(){var e=(0,d.useRouter)(),t=e.query.id,r=(0,u.useState)(!1),n=(0,i.Z)(r,2),o=n[0],c=n[1],h=(0,u.useState)([]),g=(0,i.Z)(h,2),b=g[0],v=g[1],y=(0,u.useState)(""),j=(0,i.Z)(y,2),w=j[0],N=j[1],k=(0,u.useState)("Doctor"),S=(0,i.Z)(k,2),C=S[0],L=S[1],R=(0,u.useState)(""),T=(0,i.Z)(R,2),E=T[0],A=T[1],M=(0,u.useState)(!1),D=(0,i.Z)(M,2),I=D[0],B=D[1],Z=(0,u.useState)(0),z=(0,i.Z)(Z,2),W=z[0],_=z[1],O=(0,u.useState)("disconnected"),P=(0,i.Z)(O,2),U=P[0],F=P[1],V=(0,u.useState)(0),H=V[0],G=V[1],X=(0,u.useRef)(null),q=(0,u.useRef)(null),J=(0,u.useRef)(null),$=(0,u.useRef)(null),K=(0,u.useRef)(null),Q=(0,u.useRef)(null),Y=(0,u.useRef)(null),ee=(0,u.useRef)(null);(0,u.useEffect)((function(){var r;x.Z.get("token")?t&&(null===(r=K.current)||void 0===r||r.scrollIntoView({behavior:"smooth"})):e.push("/")}),[b,w,t,e]),(0,u.useEffect)((function(){return o?Q.current=setInterval((function(){_((function(e){return e+1}))}),1e3):(Q.current&&clearInterval(Q.current),_(0)),function(){Q.current&&clearInterval(Q.current)}}),[o]);var te=function e(){if(Y.current&&o){var t=new Uint8Array(Y.current.frequencyBinCount);Y.current.getByteFrequencyData(t);var r=t.reduce((function(e,t){return e+t}),0)/t.length;G(Math.min(100,r/128*100)),ee.current=requestAnimationFrame(e)}},re=function(){var e=(0,s.Z)(l().mark((function e(){var r,n,o,s,i,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F("connecting"),A(""),e.next=5,navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});case 5:r=e.sent,J.current=r,n=new AudioContext({sampleRate:16e3}),q.current=n,o=n.createMediaStreamSource(r),s=n.createScriptProcessor(4096,1,1),$.current=s,(i=n.createAnalyser()).fftSize=256,Y.current=i,o.connect(i),u="".concat(p,"/ws/transcribe/").concat(t),console.log("Connecting to WebSocket:",u),d=new WebSocket(u),X.current=d,d.onopen=function(){console.log("WebSocket connected"),F("connected"),A(""),c(!0),te()},d.onmessage=function(e){try{var t=JSON.parse(e.data);console.log("Received:",t),"transcript"===t.type?t.is_final?(v((function(e){return[].concat(a(e),[{text:t.text,speaker:t.speaker,timestamp:t.timestamp||(new Date).toISOString(),isFinal:!0,confidence:t.confidence||.95}])})),N("")):(N(t.text),L(t.speaker)):"status"===t.type&&(console.log("Status:",t.message),"error"===t.status&&(A(t.message),F("error")))}catch(r){console.error("Error parsing WebSocket message:",r)}},d.onerror=function(e){console.error("WebSocket error:",e),A("Connection error. Please try again."),F("error")},d.onclose=function(){console.log("WebSocket closed"),F("disconnected"),c(!1)},s.onaudioprocess=function(e){if(d.readyState===WebSocket.OPEN){for(var t=e.inputBuffer.getChannelData(0),r=new Int16Array(t.length),n=0;n<t.length;n++){var o=Math.max(-1,Math.min(1,t[n]));r[n]=o<0?32768*o:32767*o}d.send(r.buffer)}},o.connect(s),s.connect(n.destination),e.next=34;break;case 29:e.prev=29,e.t0=e.catch(0),console.error("Microphone error:",e.t0),A("Failed to access microphone. Please check permissions."),F("error");case 34:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){ee.current&&cancelAnimationFrame(ee.current),X.current&&X.current.readyState===WebSocket.OPEN&&X.current.close(),q.current&&q.current.close(),$.current&&$.current.disconnect(),J.current&&J.current.getTracks().forEach((function(e){return e.stop()})),c(!1),F("disconnected"),G(0),w&&(v((function(e){return[].concat(a(e),[{text:w,speaker:C,timestamp:(new Date).toISOString(),isFinal:!0}])})),N(""))},oe=function(){var r=(0,s.Z)(l().mark((function r(){var n;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==b.length){r.next=3;break}return A("No transcript available to generate summary"),r.abrupt("return");case 3:return B(!0),A(""),r.prev=5,n=x.Z.get("token"),r.next=9,fetch("".concat(f,"/api/consultations/").concat(t,"/summary"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});case 9:if(r.sent.ok){r.next=12;break}throw new Error("Failed to generate summary");case 12:e.push("/summary/".concat(t)),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(5),console.error("Error generating summary:",r.t0),A("Failed to generate summary. Please try again.");case 19:return r.prev=19,B(!1),r.finish(19);case 22:case"end":return r.stop()}}),r,null,[[5,15,19,22]])})));return function(){return r.apply(this,arguments)}}();if(!t)return(0,m.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center",children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"w-20 h-20 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,m.jsx)("p",{className:"text-gray-800 text-lg font-medium",children:"Loading..."})]})});var ae="string"===typeof t?t.slice(0,8):"Loading",se=b.length,ie=b.reduce((function(e,t){return e+t.text.split(" ").length}),0);return(0,m.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 p-4 md:p-6",children:(0,m.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,m.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100",children:(0,m.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,m.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl p-3",children:(0,m.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Live Consultation"}),(0,m.jsxs)("p",{className:"text-sm text-gray-600",children:["Session ID: ",(0,m.jsx)("span",{className:"font-mono text-gray-800",children:ae})]})]})]})}),(0,m.jsxs)("div",{className:"flex gap-3",children:[(0,m.jsxs)("div",{className:"bg-blue-100 rounded-xl px-4 py-3 border border-blue-200",children:[(0,m.jsx)("div",{className:"text-xs text-blue-700 font-semibold mb-1",children:"EXCHANGES"}),(0,m.jsx)("div",{className:"text-2xl font-bold text-blue-800",children:se})]}),(0,m.jsxs)("div",{className:"bg-blue-200 rounded-xl px-4 py-3 border border-blue-300",children:[(0,m.jsx)("div",{className:"text-xs text-blue-800 font-semibold mb-1",children:"WORDS"}),(0,m.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:ie})]})]})]})}),(0,m.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100",children:[(0,m.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-6 border-b border-gray-200",children:(0,m.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,m.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[o?(0,m.jsxs)("button",{onClick:ne,className:"bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-800 hover:to-gray-900 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center gap-3",children:[(0,m.jsx)("div",{className:"bg-white/20 rounded-lg p-2",children:(0,m.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})})}),(0,m.jsx)("span",{className:"text-lg",children:"Stop Recording"})]}):(0,m.jsxs)("button",{onClick:re,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center gap-3 transform hover:scale-105",children:[(0,m.jsx)("div",{className:"bg-white/20 rounded-lg p-2",children:(0,m.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})}),(0,m.jsx)("span",{className:"text-lg",children:"Start Recording"})]}),o&&(0,m.jsxs)("div",{className:"flex items-center gap-3 bg-blue-100 px-4 py-3 rounded-xl border border-blue-200",children:[(0,m.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,m.jsx)("span",{className:"animate-ping absolute inline-flex h-4 w-4 rounded-full bg-blue-400 opacity-75"}),(0,m.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-blue-600"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-blue-800 font-bold text-sm",children:"RECORDING"}),(0,m.jsx)("div",{className:"text-blue-700 text-xs font-mono",children:function(e){var t=Math.floor(e/60),r=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))}(W)})]})]}),o&&(0,m.jsxs)("div",{className:"bg-white rounded-xl px-4 py-3 border border-gray-200 flex items-center gap-2",children:[(0,m.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),(0,m.jsx)("div",{className:"w-32 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,m.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-150",style:{width:"".concat(H,"%")}})})]})]}),(0,m.jsx)("div",{className:"px-3 py-2 rounded-lg text-sm font-medium ".concat("connected"===U?"bg-blue-100 text-blue-800":"connecting"===U?"bg-gray-200 text-gray-700":"error"===U?"bg-gray-200 text-gray-800":"bg-gray-100 text-gray-600"),children:"connected"===U?"\u25cf Connected":"connecting"===U?"\u25cb Connecting...":"error"===U?"\u2715 Connection Error":"\u25cb Disconnected"})]})}),E&&(0,m.jsxs)("div",{className:"mx-6 mt-6 bg-gray-200 border-l-4 border-gray-700 rounded-lg p-4 flex items-start gap-3",children:[(0,m.jsx)("svg",{className:"w-6 h-6 text-gray-800 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"font-semibold text-gray-900",children:"Error"}),(0,m.jsx)("p",{className:"text-gray-800 text-sm",children:E})]})]}),(0,m.jsxs)("div",{className:"p-6",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,m.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,m.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Live Transcript"]}),b.length>0&&(0,m.jsxs)("span",{className:"text-sm text-gray-600 bg-gray-200 px-3 py-1 rounded-full",children:[se," exchanges"]})]}),(0,m.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 min-h-[450px] max-h-[550px] overflow-y-auto border border-gray-200",children:[0===b.length&&!w&&(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center py-16",children:[(0,m.jsx)("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 rounded-full p-6 mb-6",children:(0,m.jsx)("svg",{className:"w-16 h-16 text-blue-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),(0,m.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Ready to Start"}),(0,m.jsx)("p",{className:"text-gray-600 max-w-md",children:'Click "Start Recording" to begin capturing your consultation. Speech will be transcribed in real-time with automatic speaker detection.'})]}),b.map((function(e,t){return(0,m.jsxs)("div",{className:"mb-4 p-4 rounded-xl transition-all hover:shadow-md ".concat("Doctor"===e.speaker?"bg-blue-100 border-l-4 border-blue-600":"bg-gray-200 border-l-4 border-gray-500"),children:[(0,m.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[(0,m.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("Doctor"===e.speaker?"bg-blue-600":"bg-gray-600"),children:(0,m.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,m.jsx)("span",{className:"font-bold text-sm uppercase tracking-wide ".concat("Doctor"===e.speaker?"text-blue-800":"text-gray-800"),children:e.speaker})]}),(0,m.jsx)("span",{className:"text-xs text-gray-600 bg-white px-2 py-1 rounded-full",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,m.jsx)("p",{className:"text-gray-900 leading-relaxed pl-10",children:e.text})]},t)})),w&&(0,m.jsxs)("div",{className:"mb-4 p-4 rounded-xl animate-pulse ".concat("Doctor"===C?"bg-blue-200 border-l-4 border-blue-700":"bg-gray-300 border-l-4 border-gray-700"),children:[(0,m.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[(0,m.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("Doctor"===C?"bg-blue-700":"bg-gray-700"),children:(0,m.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,m.jsx)("span",{className:"font-bold text-sm uppercase tracking-wide ".concat("Doctor"===C?"text-blue-900":"text-gray-900"),children:C})]}),(0,m.jsxs)("div",{className:"flex items-center gap-1",children:[(0,m.jsx)("span",{className:"inline-block w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),(0,m.jsx)("span",{className:"inline-block w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,m.jsx)("span",{className:"inline-block w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]}),(0,m.jsx)("p",{className:"text-gray-900 leading-relaxed pl-10",children:w})]}),(0,m.jsx)("div",{ref:K})]})]}),(0,m.jsxs)("div",{className:"bg-gray-50 px-6 py-5 border-t border-gray-200 flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,m.jsxs)("div",{className:"text-sm text-gray-700 flex items-center gap-2",children:[(0,m.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,m.jsx)("span",{children:"Real-time transcription with speaker detection"})]}),(0,m.jsxs)("div",{className:"flex gap-3",children:[(0,m.jsx)("button",{onClick:function(){o&&ne(),e.push("/dashboard")},className:"px-6 py-3 bg-white border-2 border-gray-300 text-gray-800 font-semibold rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all",children:"Cancel"}),(0,m.jsx)("button",{onClick:oe,disabled:0===b.length||I||o,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-800 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-900 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:I?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,m.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,m.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,m.jsx)("span",{children:"Generating..."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,m.jsx)("span",{children:"Generate Summary"})]})})]})]})]})]})})}},3454:function(e,t,r){"use strict";var n,o;e.exports=(null===(n=r.g.process)||void 0===n?void 0:n.env)&&"object"===typeof(null===(o=r.g.process)||void 0===o?void 0:o.env)?r.g.process:r(7663)},4597:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/transcription/[id]",function(){return r(508)}])},7663:function(e){!function(){var t={162:function(e){var t,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var i,c=[],l=!1,u=-1;function d(){l&&i&&(l=!1,i.length?c=i.concat(c):u=-1,c.length&&x())}function x(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(i=c,c=[];++u<t;)i&&i[u].run();u=-1,t=c.length}i=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||l||s(x)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}},s=!0;try{t[e](a,a.exports,n),s=!1}finally{s&&delete r[e]}return a.exports}n.ab="//";var o=n(162);e.exports=o}()},1163:function(e,t,r){e.exports=r(9898)},1955:function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return o}});var o=function e(t,r){function o(e,o,a){if("undefined"!==typeof document){"number"===typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var i in a)a[i]&&(s+="; "+i,!0!==a[i]&&(s+="="+a[i].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var a=r[o].split("="),s=a.slice(1).join("=");try{var i=decodeURIComponent(a[0]);if(n[i]=t.read(s,i),e===i)break}catch(c){}}return e?n[e]:n}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},2587:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},29:function(e,t,r){"use strict";function n(e,t,r,n,o,a,s){try{var i=e[a](s),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var s=e.apply(t,r);function i(e){n(s,o,a,i,c,"next",e)}function c(e){n(s,o,a,i,c,"throw",e)}i(void 0)}))}}r.d(t,{Z:function(){return o}})},6835:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2937);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(c){i=!0,o=c}finally{try{s||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2937:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2587);function o(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}}},function(e){e.O(0,[774,888,179],(function(){return t=4597,e(e.s=t);var t}));var t=e.O();_N_E=t}]);